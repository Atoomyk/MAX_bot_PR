# visit_a_doctor/constants.py
"""
Константы и мок-данные для режима демонстрации записи к врачу
"""
from datetime import datetime, timedelta

# Список медицинских организаций
MEDICAL_ORGANIZATIONS = [
    {"id": "mo_1", "name": "ГБУЗС «Городская больница №1»"},
    {"id": "mo_2", "name": "ГБУЗС «Стоматологическая поликлиника №1»"},
    {"id": "mo_3", "name": "ГБУЗС «Кожно-венерологический диспансер»"},
    {"id": "mo_4", "name": "ГБУЗС «Городская психиатрическая больница»"},
]

# Список специализаций (14 должностей + дополнительные из ТЗ)
SPECIALTIES = [
    "Врач общей практики (семейный врач)",
    "Оториноларинголог",
    "Педиатр участковый",
    "Детский хирург",
    "Акушер-гинеколог",
    "Терапевт участковый",
    "Стоматолог детский",
    "Стоматолог",
    "Xирург",
    "Фтизиатр",
    "Офтальмолог",
    "Психиатр-нарколог",
    "Психиатр детский (подростковый)"
]

MOCK_FIO = [
    "Иванов И.И.",
    "Петрова А.С.",
    "Сидоров О.В.",
    "Кузнецова Е.П.",
    "Михайлов Д.А.",
    "Федорова С.И.",
    "Козлов А.Н.",
    "Васильева М.В.",
    "Новиков П.Г.",
    "Захарова О.П."
]

# Мок-данные врачей (генерируем для примера)
DOCTORS = {}
fio_index = 0 # Индекс для выбора ФИО из списка

for spec in SPECIALTIES:
    DOCTORS[spec] = [] # Инициализируем список для каждой специализации
    for i in range(1, 6):
        # Выбираем ФИО из списка MOCK_FIO по кругу
        current_fio = MOCK_FIO[fio_index % len(MOCK_FIO)]
        fio_index += 1 # Переходим к следующему ФИО

        # ID можно сделать более уникальным, включая специализацию
        doctor_id = f"doc_{spec.replace(' ', '_').replace('-', '_').lower()}_{i}"

        DOCTORS[spec].append({
            "id": doctor_id,
            "name": f"{current_fio} ({spec})",
            "cabinet": f"Каб. {100+i}"
        })

# Мок-данные слотов (следующие 7 дней)
def get_available_dates():
    dates = []
    base_date = datetime.now()
    for i in range(1, 15):  # 2 недели
        d = base_date + timedelta(days=i)
        dates.append({
            "date": d.strftime("%d.%m.%Y"),
            "slots_count": 5 if d.weekday() < 5 else 0 # Выходные без слотов для примера
        })
    return [d for d in dates if d['slots_count'] > 0]

def get_slots_for_date(date_str):
    # Просто генерируем статичные слоты
    return [
        "09:00", "09:30", "10:00", "10:30", "11:00", 
        "14:00", "14:30", "15:00", "15:30", "16:00"
    ]
